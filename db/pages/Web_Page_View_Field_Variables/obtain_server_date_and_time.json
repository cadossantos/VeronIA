{
  "url": "https://wiki.smartsimple.com/wiki/Obtain_Server_Date_and_Time",
  "title": "Obtain Server Date and Time",
  "content": "From SmartWiki\n Jump to: \nnavigation\n, \nsearch\nThere are several methods to obtain the server date and time. \nVariable Method\nThe current server date and time can be accessed using a variable:\n@datetime(currentdate)@\n See \nhere\n for details\nThis returns the date and time formatted as \nyyyy-mm-dd HH:mm:ss\n and is often used to compare against deadlines. For example, a \nRead Only System Variable\n with the following content would show a bright yellow box if the current date is past the deadline of 5pm on January 1st 2014:\nNote: this assumes you have created a \nSystem Variable\n called \nSubmission Deadline\n with a value of \n2014-01-01 17:00:00\n<!--@sslogic(\"@datetime(currentdate)@\">\"@system.Submission Deadline@\")-->\n <div style=\"border:2px #FF0000 solid;background-color:#FFFF00;padding:10px\">\n The current date and time is @datetime(currentdate)@\n The Submission Deadline of @system.Submission Deadline@ has passed\n </div>\n<!--@else-->\n The Submission Deadline is @system.Submission Deadline@\n<!--@end-->\nJavaScript Method\nThe variable method will pull the date and time from the server at the time the page \nloads\n. If you wish to obtain the server date and time at the time when the form is saved it can be done using JavaScript. \n \nNote:\n When enforcing submission deadlines for security reasons it is recommended to use \nSubmit Logic\n, although it can be supplemented with one of the methods described on this page.\nThe following JavaScript command will obtain the server date and time\nvar datetime=getservertime(false,\"\");\nThe following commands can be used to obtain various constituent portions of the server date and time:\n datetime.getfieldbyname(1,\"servertime\") --> returns the server time in YYYY-MM-DD HH:MM:SS\n datetime.getfieldbyname(1,\"year\") --> returns the year of the server time\n datetime.getfieldbyname(1,\"month\") --> returns the month of the server time\n datetime.getfieldbyname(1,\"day\") --> returns the day of the server time\n datetime.getfieldbyname(1,\"hour\") --> returns the hour of the server time\n datetime.getfieldbyname(1,\"minute\") --> returns the minute of the server time\n datetime.getfieldbyname(1,\"second\") --> returns the second of the server time\nFor example, to check current server time against the submission deadline described above you could use the following JavaScript function:\nfunction sbfunc(){\n var rs=getservertime(false,\"\");\n if(rs.getfieldbyname(1,\"servertime\")>=\"@system.Submission Deadline@\"){\n alert(\"The submission deadline of @system.Submission Deadline@ has passed. Submission is not permitted\");\n return false;\n }\n return true;\n}\n Note: The \ngetservertime\n JavaScript function will work in the UTA Level 1, 2 and 3. In other places such as \nWeb Page Views\n or custom fields on Contacts or Companies you will need to include the \n/Ajax/uta/in_uta.js\n JS file (See \nAdding JavaScript JS files to Web Page View Pages\n)\n It is possible to get the date and time from the client machine using JavaScript's built-in \nDate()\n function, but using the server date and time is usually preferred since it is consistent and controlled. \nSee Also\n \nsslogic\n \nSubmit Logic\n \nsavefunc\n and \nsbfunc\n \nPandora - Sample - Obtain Current Server Time\n \n Retrieved from ‘\nhttps://wiki.smartsimple.com/index.php?title=Obtain_Server_Date_and_Time&oldid=16525\n’ \nCategories\n: \nJavaScript\nTime",
  "links": [
    "https://wiki.smartsimple.com/wiki/Web_Page_View_Field_Variables#Current_Date.2FTime",
    "https://wiki.smartsimple.com/wiki/Read_Only_System_Variable",
    "https://wiki.smartsimple.com/wiki/System_Variable",
    "https://wiki.smartsimple.com/wiki/Submit_Logic",
    "https://wiki.smartsimple.com/wiki/Web_Page_View",
    "https://wiki.smartsimple.com/wiki/Adding_JavaScript_JS_files_to_Web_Page_View_Pages",
    "https://wiki.smartsimple.com/wiki/Sslogic",
    "https://wiki.smartsimple.com/wiki/Submit_Logic",
    "https://wiki.smartsimple.com/wiki/Savefunc",
    "https://wiki.smartsimple.com/wiki/Sbfunc",
    "https://wiki.smartsimple.com/wiki/Pandora_-_Sample_-_Obtain_Current_Server_Time"
  ],
  "images": []
}